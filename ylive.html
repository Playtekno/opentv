<!DOCTYPE html>
<html>
<head>
  <title>Redirecting...</title>
</head>
<body>
  <script>
    // Ambil nilai parameter query string "id"
    const urlParams = new URLSearchParams(window.location.search);
    const id = urlParams.get('id');

    // Pastikan parameter "id" tidak kosong
    if (id) {
      const apiUrl = `https://youtube-extractor.ajzbc.workers.dev/?id=${id}`;

      // Ambil URL dari string JSON "hlsManifestUrl"
      fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
          const hlsManifestUrl = data.streamingData.hlsManifestUrl;

          // Redirect ke URL yang dihasilkan
          window.location.href = hlsManifestUrl;
        });
    } else {
      console.error('Parameter "id" tidak ditemukan.');
    }
  </script>
</body>
</html>
